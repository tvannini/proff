<html><head><META http-equiv='Content-Type' content='text/html; charset=ISO-8859-1'><style type='text/css'>
 .proffed {max-width:36em;text-align:left;}
 .proffed p {font:0.8em/1.5em Tahoma,sans-serif;text-align:justify;letter-spacing:1px;color:#555555;}
 .proffed fieldset {padding: 0.5em 0.5em 0.5em 0.5em;border:1px solid #555555;font:0.8em/1.5em Tahoma,sans-serif;text-align:justify;letter-spacing:1px;color:#555555;}
 .proffed a {color:#993300;text-decoration:none;}
 .proffed a:hover {color:#fefefe;background-color:#993300;text-decoration:none;}</style></head>
<body>
<center><div class='proffed'>
<fieldset style='white-space:nowrap;margin-left:11.5em;width:1%;'>
<b> PRoff - Personal Roff </b>
</fieldset>

<pre>
                                          Document edited by <b>PRoff 1.2</b>
                              Text: &lt;<a href="http://proff.sourceforge.net/soft/">http://proff.sourceforge.net/soft/</a>&gt;
                              HTML: &lt;<a href="http://proff.sourceforge.net/full/">http://proff.sourceforge.net/full/</a>&gt;
</pre>

<p style='margin-left:0.5em;'>» Current version: 1.2</p>
<p style='margin-left:0.5em;'>» PRoff site: &lt;<a href="http://proff.sourceforge.net">http://proff.sourceforge.net</a>&gt;</p>
<p style='margin-left:0.5em;'>» Download: &lt;<a href="http://proff.sourceforge.net/download/">http://proff.sourceforge.net/download/</a>&gt;</p>
<p style='margin-left:0.5em;'>» Documentation: &lt;<a href="http://proff.sourceforge.net/doc/">http://proff.sourceforge.net/doc/</a>&gt;</p>
<p style='margin-left:0.5em;'>» Informations: &lt;<a href="mailto:algoraro@users.sourceforge.net">algoraro@users.sourceforge.net</a>&gt;</p>

<br />
<p style='margin-left:1.5em;'><b>Content</b></p>

<p style='margin-left:1.5em;'>0 ...... Preamble</p>
<p style='margin-left:1.5em;'>1 ...... Licensing</p>
<p style='margin-left:1.5em;'>2 ...... Project description</p>
<p style='margin-left:2em;text-indent:-0.5em;'>3 ...... Script description</p>
<p style='margin-left:2em;'>3.1 ... Pre-processor</p>
<p style='margin-left:2em;'>3.2 ... Post-processor</p>
<p style='margin-left:2em;text-indent:-0.5em;'>4 ...... How to run PRoff</p>
<p style='margin-left:2em;'>4.1 ... From command line</p>
<p style='margin-left:2em;'>4.2 ... From text editor</p>
<p style='margin-left:1.5em;'>5 ...... Document formatting syntax</p>
<p style='margin-left:1.5em;'>6 ...... Todo</p>

<br />
<p style='margin-left:0.5em;'>0 <b>Preamble</b></p>

<p style='margin-left:1.5em;'>This project was born from the problem of writing clear, consistent, good-looking, web-able documentation. I think it's impossible to use WYSIWYG editors, letting them to fill up documents with tons of invisible, inconsistent, useless format information.</p>

<p style='margin-left:1.5em;'>I worked with LATEX and *roff for a while and editors now called WYGIWYS: absolutely a new result quality but it was not perfect yet... Writing doc is not only coding but also composing: I can't compose on a page full of text-extraneous informations, editing on a place and reading and checking result on another place.</p>

<p style='margin-left:1.5em;'>At the end I was writing my documents in HTML: no bad for result but what a stress! A good job was made with WIKI composing language, much easier and readable than HTML, but rewriting tagging system was not my solution: I just wanted to wipe tags out.</p>

<p style='margin-left:1.5em;'>PRoff, Personal Roff, is the result of my effort and I hope someone will find it useful. If you have ideas, suggestions or questions please mail to &lt;<a href="mailto:algoraro@users.sourceforge.net">algoraro@users.sourceforge.net</a>&gt;.</p>

<br />
<p style='margin-left:0.5em;'>1 <b>Licensing</b></p>

<p style='margin-left:1.5em;'>PRoff - Copyright (C) 2007, Tommaso Vannini (&lt;<a href="mailto:tvannini@gmail.com">tvannini@gmail.com</a>&gt;)</p>

<p style='margin-left:1.5em;'>PRoff is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version. PRoff is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>

<p style='margin-left:1.5em;'>You should have received a copy of the GNU General Public License along with this program. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>

<br />
<p style='margin-left:0.5em;'>2 <b>Project description</b></p>

<p style='margin-left:1.5em;'>The idea of this project is not new: on the contrary it is very old! The goal is to realize a program to parse text to beautify it, without need of tags or other text-extraneous elements. One only rule: <b>using a processed document as a source, process must result in the same document</b>.</p>

<p style='margin-left:1.5em;'>This document, for example, as you see it, is the source and the result at the same time.</p>

<p style='margin-left:1.5em;'>Imagine, for example, to have a text like this:</p>

<p style='margin-left:0em;'>(Text start)</p>
<pre>
                             ***************
                             * Lorem ipsum *
                             ***************
 
      Lorem ipsum dolor sit amet, consectetur adipisicing
      elit, sed do eiusmod tempor incididunt ut labore et dolore
      magna aliqua.
       - Ut enim ad minim veniam, quis nostrud exercitation ullamco
         laboris nisi ut aliquip ex ea commodo consequat.
       - Duis aute irure dolor in reprehenderit in voluptate velit
         esse cillum dolore eu fugiat nulla pariatur.
 
         1. Sed ut perspiciatis unde omnis iste natus error sit
            voluptatem accusantium doloremque laudantium, totam rem
            aperiam, eaque ipsa quae ab illo inventore veritatis et
            quasi architecto beatae vitae dicta sunt explicabo.
 
         2. Nemo enim ipsam voluptatem quia voluptas sit aspernatur
            aut odit aut fugit, sed quia consequuntur magni dolores
            eos qui ratione voluptatem sequi nesciunt.
 
      Neque porro: quisquam est, qui dolorem ipsum quia dolor sit
                   amet, consectetur, adipisci velit, sed quia non
                   numquam eius modi tempora incidunt ut labore et
                   dolore magnam aliquam quaerat voluptatem.
 
       Ut enim ad minima veniam,
      quis nostrum exercitationem ullam
      corporis suscipit laboriosam, nisi ut
      aliquid ex ea commodi consequatur?
 
                                    ---o---
 
      1914 translation by H. Rackham
           =========================
 
           &quot;On the other hand, we denounce with righteous
           indignation and dislike men who are so beguiled
           and demoralized by the charms of pleasure of the moment,
           so blinded by desire, that they cannot foresee the pain
           and trouble that are bound to ensue; and equal blame
           belongs to those who fail in their duty through weakness
           of will, which is the same as saying through shrinking
           from toil and pain.&quot;
</pre>
<p style='margin-left:0em;'>(Text end)</p>

<p style='margin-left:1.5em;'>It will be trasformed by PRoff in this way:</p>

<p style='margin-left:14.5em;text-indent:-14.5em;'>(Text start)</p>
<fieldset style='white-space:nowrap;margin-left:14.5em;width:1%;'>
Lorem ipsum 
</fieldset>

<p style='margin-left:3em;'>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
<p style='margin-left:4.5em;text-indent:-1em;'>- Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
<p style='margin-left:4.5em;text-indent:-1em;'>- Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>

<p style='margin-left:6em;text-indent:-1.5em;'>1. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>

<p style='margin-left:6em;text-indent:-1.5em;'>2. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.</p>

<p style='margin-left:9.5em;text-indent:-6.5em;'>Neque porro: quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.</p>

<p style='margin-left:3.5em;'>Ut enim ad minima veniam,</p>
<p style='margin-left:3em;'>quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur?</p>

<p style='margin-left:18em;'>---o---</p>

<p style='margin-left:5.5em;text-indent:-2.5em;'>1914 translation by H. Rackham</p>
<p style='margin-left:5.5em;'>=========================</p>

<p style='margin-left:5.5em;'>“On the other hand, we denounce with righteous indignation and dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so blinded by desire, that they cannot foresee the pain and trouble that are bound to ensue; and equal blame belongs to those who fail in their duty through weakness of will, which is the same as saying through shrinking from toil and pain.”</p>
<p style='margin-left:0em;'>(Text end)</p>

<p style='margin-left:1.5em;'>The transformed text is still a valid source for the same format and both source and result file are clearly readable, without text-extraneous elements: result file is just better-looking than the source one.</p>

<br />
<p style='margin-left:0.5em;'>3 <b>Script description</b></p>

<p style='margin-left:1.5em;'>The script works in two steps: file text is passed to a <b>pre-processor</b> that transforms it into an array; then the array is passed to a <b>post-processor</b> that composes final text from it.</p>

<br />
<p style='margin-left:1.5em;'>3.1 <b>Pre-processor</b></p>

<p style='margin-left:3.5em;'>First script, pre-processor, splits text into an array of paragraphs and returns each paragraph indentation and first line indentation. The script respects blank lines, un/ordered lists and graphical elements.</p>

<br />
<p style='margin-left:1.5em;'>3.2 <b>Post-processor</b></p>

<p style='margin-left:3.5em;'>Post-processor script formats each paragraph according with indentation, first line indentation and global width and it composes final text.</p>

<p style='margin-left:3.5em;'>If marking up is requested post-processor runs some extra regular expression to:</p>
<p style='margin-left:4em;'>- make href links from URLs</p>
<p style='margin-left:4em;'>- make mailto links from email addresses</p>
<p style='margin-left:4em;'>- mark as bold double-intensity text (<b>text</b>)</p>

<p style='margin-left:3.5em;'>HTML rendering is offered in two flavours: <b>soft</b> or <b>full</b>. If soft one is requested text is returned in &lt;pre&gt; tags for preserving mono-spaced format in HTML.</p>

<p style='margin-left:3.5em;'>Full one, instead, returns document divided into paragraphs (&lt;p&gt;) with indentation and first line indentation style properties. Graphic surrounded text will be rendered as framed and double intensity characters (“•”) will be stripped out from black text.</p>

<br />
<p style='margin-left:0.5em;'>4 <b>How to run PRoff</b></p>

<p style='margin-left:1.5em;'>PRoff is a batch program: it runs without any user interaction. It can produce files or send text on STDOUT, recoverable by pipes.</p>

<p style='margin-left:1.5em;'>Tipically it can be run from command line or from within another program like a text editor.</p>

<p style='margin-left:1.5em;'>When PRoff starts it will look for configuration file. Default configuration file is proff.ini, in the same directory as PRoff executable or script. Command line passed parameters will override INI directives.</p>

<br />
<p style='margin-left:1.5em;'>4.1 <b>From command line</b></p>

<p style='margin-left:3.5em;'>You can run PRoff both as PHP script and as WIN32 executable. In order to run it as PHP script, you need a PHP working installation.</p>

<p style='margin-left:3.5em;'>WI32 executable - Command line:</p>
<p style='margin-left:4em;'>proff.exe &lt;source&gt; [&lt;option&gt; [&lt;value&gt;] ...]</p>

<p style='margin-left:3.5em;'>PHP script - Command line:</p>
<p style='margin-left:4em;'>php.exe proff.php &lt;source&gt; [&lt;option&gt; [&lt;value&gt;] ...]</p>

<p style='margin-left:3.5em;'>Where:</p>

<p style='margin-left:5em;'>&lt;source&gt;</p>
<p style='margin-left:6.5em;'>Source text file to format.</p>
<p style='margin-left:5em;'>&lt;option&gt; &lt;value&gt;</p>
<p style='margin-left:6.5em;'>One or more of the following options and values:</p>
<p style='margin-left:6.5em;'>-h Displays help informations (no &lt;value&gt; is needed).</p>
<p style='margin-left:6.5em;'>-i Configuration file. Set &lt;value&gt; to INI file to use.</p>
<p style='margin-left:8em;text-indent:-1.5em;'>-r Result file. If a valid file name is passed as &lt;value&gt;, result text will be written to file, else result text will be output to STDOUT. If no full path is provided for &lt;result_file&gt;, processed file position will be determinated starting from source file directory.</p>
<p style='margin-left:8em;text-indent:-1.5em;'>-w Page width. Set &lt;value&gt; to number of characters (columns) to justify text to (default is 72).</p>
<p style='margin-left:8em;text-indent:-1.5em;'>-p Markup (production type). Passed &lt;value&gt; can be one of following values:</p>
<p style='margin-left:8em;'>[0|FALSE]...... Text is formatted without markup</p>
<p style='margin-left:8em;'>[1|TRUE|SOFT].. Text is formatted with soft markup</p>
<p style='margin-left:8em;'>[FULL]......... Text is formatted with full markup</p>
<p style='margin-left:8em;'>(default value is FALSE).</p>
<p style='margin-left:6.5em;'>-o Open result file (no &lt;value&gt; is needed).</p>
<p style='margin-left:6.5em;'>-m Send as mail (no &lt;value&gt; is needed).</p>

<p style='margin-left:3.5em;'>Options -r, -w, -p, -o, -m and many more ones can be set by configuration file directives. See proff.ini file for a complete configuration directives description.</p>

<p style='margin-left:3.5em;'>The easiest way to use PRoff is to prepare one or more configuration files containing all needed parameters. With PRoff package are provided three configuration files (text.ini, soft.ini, full.ini) that can be used to make, respectively, text, soft HTML and full HTML processing.</p>

<p style='margin-left:3.5em;'>To use one of the provided configuration files just run</p>
<p style='margin-left:4em;'>path/to/proff.exe -i full.ini</p>
<p style='margin-left:3.5em;'>from command line.</p>

<p style='margin-left:3.5em;'>Configuration file proff.ini is the default one, used when no other file is passed: it contains all detailed directives and it can be used to start creating new configuration files.</p>

<br />
<p style='margin-left:1.5em;'>4.2 <b>From text editor</b></p>

<p style='margin-left:3.5em;'>PRoff can be easily integrated in most text editors, just setting an external program execution and passing ambient variables to PRoff executable.</p>

<p style='margin-left:3.5em;'>For example, for integrating PRoff in Notepad++ text editor (&lt;<a href="http://notepad-plus.sourceforge.net/uk/site.htm">http://notepad-plus.sourceforge.net/uk/site.htm</a>&gt;) just add following lines to file notepad++/shortcuts.xml configuration file:</p>

<pre>
          &lt;UserDefinedCommands&gt;
             &lt;Command name=“Format as text”
                      Ctrl=“yes”
                      Alt=“yes”
                      Shift=“no”
                      Key=“84”&gt;
              path/to/proff.exe “$(FULL_CURRENT_PATH)” -i text.ini -o
             &lt;/Command&gt;
             &lt;Command name=“Format as HTML”
                      Ctrl=“yes”
                      Alt=“yes”
                      Shift=“no”
                      Key=“72”&gt;
              path/to/proff.exe “$(FULL_CURRENT_PATH)” -i soft.ini -o
             &lt;/Command&gt;
             &lt;Command name=“Format as full HTML”
                      Ctrl=“yes”
                      Alt=“yes”
                      Shift=“no”
                      Key=“88”&gt;
              path/to/proff.exe “$(FULL_CURRENT_PATH)” -i full.ini -o
             &lt;/Command&gt;
          &lt;/UserDefinedCommands&gt;
</pre>

<p style='margin-left:3.5em;'>Now it will be possible, from within Notepad++, calling PRoff directly, pressing CTRL+ALT+T (for text format), CTRL+ALT+H (for soft HTML format) and CTRL+ALT+X (for full HTML format).</p>

<br />
<p style='margin-left:0.5em;'>5 <b>Document formatting syntax</b></p>

<p style='margin-left:1.5em;'>Document text can be written considering a few tricks that will help PRoff to respect and rightly understand your document style.</p>

<p style='margin-left:1.5em;'>Here for “graphic” element is intended a character (or block of characters) matching regular expression “\W+”.</p>

<p style='margin-left:2em;'>- All in-paragraph multiple spaces will be reduced to one.</p>
<p style='margin-left:2em;'>- Line breaks will not break paragraphs.</p>
<p style='margin-left:2em;'>- All paragraphs longer than line width will be justified.</p>
<p style='margin-left:2em;'>- Blank lines will be respected and break paragraphs.</p>
<p style='margin-left:3em;text-indent:-1em;'>- Start each unordered list element with a “graphic” block and sibling space(s), then indent next line.</p>
<p style='margin-left:3em;text-indent:-1em;'>- Start each ordered list element with a number, a optional sibling “graphic” block, space(s) and then indent next line.</p>
<p style='margin-left:3em;text-indent:-1em;'>- All indentation changes, not recognized as un/ordered lists, will cause a line break.</p>
<p style='margin-left:3em;text-indent:-1em;'>- In other words: with the exception of un/ordered lists elements first line, all rows of a paragraph will have the same source indentation.</p>
<p style='margin-left:3em;text-indent:-1em;'>- Lines starting with a “&gt;” will not be processed and they will be added to text as they are.</p>
<p style='margin-left:3em;text-indent:-1em;'>- All text bounded by a “•” (ALT+0149) will be displayed as black in soft and full HTML rendering</p>
<p style='margin-left:3em;text-indent:-1em;'>- Text surrounded by “graphic” elements will be displayed as bordered in full HTML rendering.</p>

<br />
<p style='margin-left:0.5em;'>6 <b>Todo</b></p>

<p style='margin-left:2em;'>- Document structure recognition and indexes linking.</p>
<p style='margin-left:2em;'>- PDF production.</p>
<p style='margin-left:3em;text-indent:-1em;'>- Standard *roff capabilities integration to get hyphenation and space balancing in paragraphs formatting.</p>


</div>
<br /><a href='http://proff.sourceforge.net'><img title='PRoff - Personal Roff' border='0' src='http://proff.sourceforge.net/img/proffed.png' /></a></center></body></html>
